local Log = LibImplex_Logger()

local ROOT = 'LibImplex/textures'

local NUMBER_TEXTURES = {
    'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', [0] = 'zero'
}

do
    for i, textureName in pairs(NUMBER_TEXTURES) do
        NUMBER_TEXTURES[i] = string.format('%s/%s.dds', ROOT, textureName)
    end
end

-- ----------------------------------------------------------------------------

local SCALE_FACTOR = 75
local ALPHABET_SANSSERIF = {
    path='LibImplex/textures/sansserif100.dds',
    characterCoordinates = {
        ['a'] = {  5,  52,   0, 122},
        ['b'] = { 69, 117,   0, 122},
        ['c'] = {126, 172,   0, 122},
        ['d'] = {179, 228,   0, 122},
        ['e'] = {241, 291,   0, 122},
        ['f'] = {299, 335,   0, 122},
        ['g'] = {336, 385,   0, 122},
        ['h'] = {402, 448,   0, 122},
        ['i'] = {464, 475,   0, 122},
        ['j'] = {480, 509,   0, 122},
        ['k'] = {526, 575,   0, 122},
        ['l'] = {584, 595,   0, 122},
        ['m'] = {611, 692,   0, 122},
        ['n'] = {709, 755,   0, 122},
        ['o'] = {768, 819,   0, 122},
        ['p'] = {832, 881,   0, 122},
        ['q'] = {891, 940,   0, 122},
        ['r'] = {957, 991,   0, 122},

        ['s'] = {  5,  49, 122, 244},
        ['t'] = { 55,  90, 122, 244},
        ['u'] = { 99, 146, 122, 244},
        ['v'] = {156, 211, 122, 244},
        ['w'] = {216, 292, 122, 244},
        ['x'] = {298, 351, 122, 244},
        ['y'] = {357, 410, 122, 244},
        ['A'] = {467, 533, 122, 244},
        ['B'] = {543, 600, 122, 244},
        ['C'] = {608, 669, 122, 244},
        ['D'] = {682, 745, 122, 244},
        ['E'] = {759, 808, 122, 244},
        ['F'] = {822, 870, 122, 244},
        ['G'] = {875, 941, 122, 244},
        ['H'] = {957,1014, 122, 244},

        ['I'] = {  5,  36, 244, 366},
        ['J'] = { 44,  79, 244, 366},
        ['K'] = { 96, 156, 244, 366},
        ['L'] = {165, 212, 244, 366},
        ['M'] = {221, 287, 244, 366},
        ['N'] = {305, 362, 244, 366},
        ['O'] = {376, 444, 244, 366},
        ['P'] = {459, 508, 244, 366},
        ['Q'] = {515, 585, 244, 366},
        ['R'] = {598, 659, 244, 366},
        ['S'] = {665, 722, 244, 366},
        ['T'] = {727, 789, 244, 366},
        ['U'] = {797, 854, 244, 366},
        ['V'] = {863, 929, 244, 366},
        ['X'] = {933, 995, 244, 366},

        ['W'] = {  4,  95, 366, 488},
        ['Y'] = { 99, 160, 366, 488},
        ['Z'] = {167, 224, 366, 488},
        ['1'] = {243, 283, 366, 488},
        ['2'] = {301, 351, 366, 488},
        ['3'] = {366, 414, 366, 488},
        ['4'] = {425, 481, 366, 488},
        ['5'] = {495, 543, 366, 488},
        ['6'] = {556, 609, 366, 488},
        ['7'] = {621, 672, 366, 488},
        ['8'] = {684, 736, 366, 488},
        ['9'] = {747, 799, 366, 488},
        ['0'] = {812, 863, 366, 488},
        ['!'] = {884, 896, 366, 488},
        ['@'] = {917,1001, 366, 488},

        ['#'] = {  9,  73, 488, 610},
        ['$'] = { 89, 139, 488, 610},
        ['%'] = {153, 247, 488, 610},
        ['^'] = {263, 327, 488, 610},
        ['&'] = {341, 412, 488, 610},
        ['*'] = {417, 465, 488, 610},
        ['('] = {481, 512, 488, 610},
        [')'] = {524, 555, 488, 610},
        ['-'] = {570, 601, 488, 610},
        ['_'] = {607, 672, 488, 610},
        ['='] = {684, 742, 488, 610},
        ['+'] = {764, 826, 488, 610},
        ['\\']= {839, 883, 488, 610},
        ['|'] = {899, 908, 488, 610},
        ['/'] = {924, 968, 488, 610},
        [' '] = {970,1018, 488, 610},

        ['{'] = {  8,  55, 610, 732},
        ['}'] = { 72, 118, 610, 732},
        ['['] = {137, 163, 610, 732},
        [']'] = {179, 205, 610, 732},
        [':'] = {233, 245, 610, 732},
        [';'] = {272, 293, 610, 732},
        ['"'] = {314, 344, 610, 732},
        ['\'']= {359, 372, 610, 732},
        ['<'] = {391, 448, 610, 732},
        ['>'] = {474, 531, 610, 732},
        [','] = {550, 571, 610, 732},
        ['.'] = {591, 603, 610, 732},
        ['?'] = {622, 664, 610, 732},
        ['~'] = {679, 743, 610, 732},
        ['`'] = {768, 790, 610, 732},
    },
    fullSize = 1024,
}

local ALPHABET = {
    path='LibImplex/textures/univers67.dds',
    characterCoordinates = {
        ['a'] = {  12,   80, 0, 170 },
        ['b'] = {  94,  160, 0, 170 },
        ['c'] = { 172,  241, 0, 170 },
        ['d'] = { 251,  318, 0, 170 },
        ['e'] = { 331,  400, 0, 170 },
        ['f'] = { 403,  450, 0, 170 },
        ['g'] = { 453,  521, 0, 170 },
        ['h'] = { 536,  601, 0, 170 },
        ['i'] = { 616,  643, 0, 170 },
        ['j'] = { 655,  687, 0, 170 },
        ['k'] = { 703,  775, 0, 170 },
        ['l'] = { 784,  811, 0, 170 },
        ['m'] = { 825,  929, 0, 170 },
        ['n'] = { 941, 1007, 0, 170 },

        ['o'] = {  12,   81, 170, 340 },
        ['p'] = {  92,  159, 170, 340 },
        ['q'] = { 172,  238, 170, 340 },
        ['r'] = { 251,  298, 170, 340 },
        ['s'] = { 300,  365, 170, 340 },
        ['t'] = { 367,  413, 170, 340 },
        ['u'] = { 420,  486, 170, 340 },
        ['v'] = { 491,  562, 170, 340 },
        ['w'] = { 565,  688, 170, 340 },
        ['x'] = { 692,  771, 170, 340 },
        ['y'] = { 775,  846, 170, 340 },
        ['z'] = { 850,  909, 170, 340 },
        [' '] = { 911,  982, 170, 340 },

        ['A'] = {  12,  110, 340, 510 },
        ['B'] = { 118,  200, 340, 510 },
        ['C'] = { 214,  291, 340, 510 },
        ['D'] = { 303,  384, 340, 510 },
        ['E'] = { 400,  467, 340, 510 },
        ['F'] = { 479,  543, 340, 510 },
        ['G'] = { 549,  630, 340, 510 },
        ['H'] = { 648,  728, 340, 510 },
        ['I'] = { 745,  772, 340, 510 },
        ['J'] = { 781,  853, 340, 510 },
        ['K'] = { 866,  948, 340, 510 },
        ['L'] = { 957, 1020, 340, 510 },

        ['M'] = {  12,  129, 510, 680 },
        ['N'] = { 145,  234, 510, 680 },
        ['O'] = { 250,  332, 510, 680 },
        ['P'] = { 348,  425, 510, 680 },
        ['Q'] = { 436,  527, 510, 680 },
        ['R'] = { 533,  610, 510, 680 },
        ['S'] = { 619,  696, 510, 680 },
        ['T'] = { 702,  783, 510, 680 },
        ['U'] = { 789,  871, 510, 680 },
        ['V'] = { 878,  968, 510, 680 },

        ['W'] = {  12,  157, 680, 850 },
        ['X'] = { 161,  251, 680, 850 },
        ['Y'] = { 255,  344, 680, 850 },
        ['Z'] = { 350,  426, 680, 850 },
        ['&'] = { 434,  540, 680, 850 },
        ['.'] = { 546,  569, 680, 850 },
        [','] = { 578,  609, 680, 850 },
        [';'] = { 611,  641, 680, 850 },
        [':'] = { 652,  675, 680, 850 },
        ["'"] = { 690,  713, 680, 850 },
        ['?'] = { 725,  787, 680, 850 },
        ['!'] = { 805,  831, 680, 850 },
        ['('] = { 848,  881, 680, 850 },
        [')'] = { 896,  929, 680, 850 },
        ['*'] = { 944, 1008, 680, 850 },

        ['0'] = {  12,   80, 850, 1020 },
        ['1'] = {  86,  133, 850, 1020 },
        ['2'] = { 152,  221, 850, 1020 },
        ['3'] = { 224,  292, 850, 1020 },
        ['4'] = { 296,  365, 850, 1020 },
        ['5'] = { 367,  434, 850, 1020 },
        ['6'] = { 437,  505, 850, 1020 },
        ['7'] = { 510,  573, 850, 1020 },
        ['8'] = { 578,  646, 850, 1020 },
        ['9'] = { 649,  717, 850, 1020 },
        ['@'] = { 729,  846, 850, 1020 },
        ['-'] = { 856,  898, 850, 1020 },
        ['_'] = { 902,  985, 850, 1020 },
    },
    a = {
        ['0'] = {  12,   79, 850, 1000 },
        ['1'] = {  79,  146, 850, 1000 },
        ['2'] = { 152,  219, 850, 1000 },
        ['3'] = { 225,  292, 850, 1000 },
        ['4'] = { 297,  364, 850, 1000 },
        ['5'] = { 367,  434, 850, 1000 },
        ['6'] = { 437,  504, 850, 1000 },
        ['7'] = { 508,  575, 850, 1000 },
        ['8'] = { 578,  645, 850, 1000 },
        ['9'] = { 650,  717, 850, 1000 },
        [':'] = { 649,  678, 700, 850 },
    },
    fullSize = 1024,
}

-- ----------------------------------------------------------------------------

LibImplex = LibImplex or {}
LibImplex.Textures = LibImplex.Textures or {}

LibImplex.Textures.Numbers = NUMBER_TEXTURES

-- TODO: Fonts
LibImplex.Textures.Alphabet = {
    -- texture = ALPHABET.path,
    -- GetCharacterCoordinates = function(letter)
    --     local l, r, t, b = unpack(ALPHABET.characterCoordinates[letter])
    --     local full = ALPHABET.fullSize

    --     return l/full, r/full, t/full, b/full
    -- end,
    -- GetSizeCoefficients = function(letter, size)
    --     local l, r, t, b = unpack(ALPHABET.characterCoordinates[letter])

    --     -- local w = size * (r - l) / SCALE_FACTOR
    --     -- local h = size * (b - t) / SCALE_FACTOR

    --     return size * (r - l) / (b - t), size

    --     -- Log('%s - w: %.2f, h: %2.f', letter, w, h)

    --     -- return w, h
    -- end,
    characterCoordinates = ALPHABET.characterCoordinates,
    a = ALPHABET.a,
}
